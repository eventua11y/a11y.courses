---
let { course } = Astro.props;
let { title, website, description, provider, teacher } = course;
---
<article class="course">
    <!-- <pre>{JSON.stringify(course, null, 2)}</pre> -->
    <h2 class="course__title">{title}</h2>
    <!-- Map over the `provider` array. For each provider, check if a website is available.
    If it is, display the provider's name as a link to their website. If not, just display 
    the provider's name as text -->
    {provider.map((provider: { website: string | URL; name: unknown; }, index: any) => 
        provider.website 
            ? <span class="course__provider"> Provider: <a href={provider.website} key={index}>{provider.name}</a></span>
            : <span class="course__provider" key={index}>Provider: {provider.name}</span>
    )}
    {teacher.map((teacher: { website: string | URL; name: unknown; }, index: any) => 
    teacher.website 
        ? <span class="course__teacher">Teacher: <a href={teacher.website} key={index}>{teacher.name}</a></span>
        : <span class="course__teacher" key={index}>Teacher: {teacher.name}</span>
    )}
    <p class="course__description">{description}</p>
    <a href={website}>Find out more<span class="sr-only"> about {title}</span></a>
</article>
<!-- End course -->